{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Jakov\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Jakov\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Jakov\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jakov\\\\Invenio\\\\src\\\\components\\\\signUpBarbershop.js\";\nimport React, { useState } from 'react';\nimport ReactModal from 'react-modal';\nimport '../App.scss';\nReactModal.setAppElement(document.getElementById('root'));\n\nfunction SignUpBarbershop() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      barbershopName = _useState4[0],\n      setBarbershopName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmPassword = _useState8[0],\n      setConfirmPassword = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showModal = _useState10[0],\n      setShowModal = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modalText = _useState12[0],\n      setModalText = _useState12[1];\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var barbershops, mText;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return fetch('http://localhost:3000/barbershops');\n\n            case 3:\n              _context.next = 5;\n              return _context.sent.json();\n\n            case 5:\n              barbershops = _context.sent;\n              console.log(email);\n              console.log(barbershopName);\n\n              if (!checkUser(barbershops, email) && password === confirmPassword) {\n                fetch('http://localhost:3000/barbershops', {\n                  method: 'POST',\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    userName: email,\n                    barbershopName: barbershopName,\n                    password: password\n                  })\n                }).then(function () {\n                  setModalText(\"Your account has been created successfully.\");\n                  setEmail(\"\");\n                  setBarbershopName(\"\");\n                  setPassword(\"\");\n                  setConfirmPassword(\"\");\n                }).catch(function () {\n                  return setModalText(\"Check your internet connection.\");\n                });\n                modalToggle();\n              } else {\n                mText = checkUser(barbershops, email) ? \"Email is already in use.\" : \"Password does not match.\";\n                setModalText(mText);\n                modalToggle();\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var modalToggle = function modalToggle() {\n    setShowModal(!showModal);\n  };\n\n  var contentStyle = {\n    position: 'absolute',\n    left: '7vw',\n    textAlign: 'center',\n    right: '7vw',\n    width: '30vw',\n    margin: '0 auto',\n    border: 'none',\n    background: 'moccasin',\n    overflow: 'auto',\n    borderRadius: '4px',\n    bottom: 'unset',\n    outline: 'none',\n    padding: '35px'\n  };\n  return React.createElement(\"form\", {\n    className: \"barbershop\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    placeholder: \"E-mail address\",\n    name: \"email\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    value: barbershopName,\n    onChange: function onChange(e) {\n      return setBarbershopName(e.target.value);\n    },\n    placeholder: \"Ime salona\",\n    name: \"barbershopName\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    placeholder: \"Lozinka\",\n    name: \"password\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    value: confirmPassword,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    placeholder: \"Potvrdi lozinku\",\n    name: \"confirmPassword\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"REGISTRACIJA\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(ReactModal, {\n    isOpen: showModal,\n    closeTimeoutMS: 200,\n    style: {\n      content: contentStyle\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, modalText), React.createElement(\"button\", {\n    onClick: modalToggle,\n    className: \"modal-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"OK\")));\n}\n\nfunction checkUser(arr, email) {\n  return arr.some(function (el) {\n    return el.userName === email;\n  });\n}\n\nexport default SignUpBarbershop;","map":{"version":3,"sources":["C:\\Users\\Jakov\\Invenio\\src\\components\\signUpBarbershop.js"],"names":["React","useState","ReactModal","setAppElement","document","getElementById","SignUpBarbershop","email","setEmail","barbershopName","setBarbershopName","password","setPassword","confirmPassword","setConfirmPassword","showModal","setShowModal","modalText","setModalText","handleSubmit","e","preventDefault","fetch","json","barbershops","console","log","checkUser","method","headers","body","JSON","stringify","userName","then","catch","modalToggle","mText","contentStyle","position","left","textAlign","right","width","margin","border","background","overflow","borderRadius","bottom","outline","padding","target","value","content","arr","some","el"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport ReactModal from 'react-modal';\r\n\r\nimport '../App.scss';\r\n\r\nReactModal.setAppElement(document.getElementById('root'));\r\n\r\nfunction SignUpBarbershop() {\r\n\r\n  \r\n  const [email, setEmail] = useState(\"\");\r\n  const [barbershopName, setBarbershopName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalText, setModalText] = useState(\"\");\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    const barbershops = await (await fetch('http://localhost:3000/barbershops')).json();\r\n    console.log(email);\r\n    console.log(barbershopName);\r\n\r\n    if (!checkUser(barbershops, email) && password === confirmPassword) {\r\n       fetch('http://localhost:3000/barbershops', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              userName: email,\r\n              barbershopName: barbershopName,\r\n              password: password\r\n            })\r\n      }).then(() => {\r\n          setModalText(\"Your account has been created successfully.\")\r\n          setEmail(\"\");\r\n          setBarbershopName(\"\");\r\n          setPassword(\"\");\r\n          setConfirmPassword(\"\");\r\n        })\r\n        .catch(() => setModalText(\"Check your internet connection.\"))\r\n      modalToggle();\r\n      \r\n    } else {\r\n        let mText = checkUser(barbershops, email) ? \"Email is already in use.\" : \"Password does not match.\";\r\n        setModalText(mText);\r\n        modalToggle();\r\n    }\r\n  }\r\n\r\n  const modalToggle = () => {\r\n    setShowModal(!showModal);\r\n  }\r\n\r\n  const contentStyle = {\r\n    position: 'absolute',\r\n    left: '7vw',\r\n    textAlign: 'center',\r\n    right: '7vw',\r\n    width: '30vw',\r\n    margin: '0 auto',\r\n    border: 'none',\r\n    background: 'moccasin',\r\n    overflow: 'auto',\r\n    borderRadius: '4px',\r\n    bottom: 'unset',\r\n    outline: 'none',\r\n    padding: '35px',\r\n  }\r\n  \r\n    \r\n    return (\r\n      \r\n        \r\n        <form className=\"barbershop\" onSubmit={handleSubmit}>\r\n\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n            placeholder=\"E-mail address\"\r\n            name=\"email\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            value={barbershopName}\r\n            onChange={e => setBarbershopName(e.target.value)}\r\n            placeholder=\"Ime salona\"\r\n            name=\"barbershopName\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n            placeholder=\"Lozinka\"\r\n            name=\"password\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            value={confirmPassword}\r\n            onChange={e => setConfirmPassword(e.target.value)}\r\n            placeholder=\"Potvrdi lozinku\"\r\n            name=\"confirmPassword\"\r\n            required\r\n          />\r\n          <input type=\"submit\" value=\"REGISTRACIJA\" />\r\n          <ReactModal\r\n            isOpen={showModal}\r\n            closeTimeoutMS={200}\r\n            style={{content: contentStyle}}\r\n          >\r\n            <div>{modalText}</div>\r\n            <button onClick={modalToggle} className=\"modal-button\">OK</button>\r\n          </ReactModal>\r\n       \r\n      </form>\r\n    );\r\n}\r\n\r\nfunction checkUser(arr, email) {\r\n  return arr.some(el => {\r\n    return el.userName === email\r\n  })\r\n}\r\n\r\nexport default SignUpBarbershop;"]},"metadata":{},"sourceType":"module"}